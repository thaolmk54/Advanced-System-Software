https://developer.mbed.org/users/thaolmk54/code/PinDetect/#f80b238f3de3
